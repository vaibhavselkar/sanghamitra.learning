<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <title>CT Foundation</title>
  <meta content="" name="description">
  <meta content="" name="keywords">

  <!-- Favicons -->
  <link href="../assets/img/favicon.png" rel="icon">
  <link href="../assets/img/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com" rel="preconnect">
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;500;600;700&family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="../assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="../assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="../assets/vendor/aos/aos.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/theme/dracula.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/python/python.min.js"></script>
  <link href="../assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">

  <!-- Main CSS File -->
  <link href="../assets/css/main.css" rel="stylesheet">
</head>

<style>
  .container h1 {
      text-align: center;
      font-family: "arial", sans-serif;
    }

    .container h2 {
      font-family: 'Comic Sans MS', cursive;
      font-size: 20px;
    }

    .text-success { color: #28a745 !important; }
    .text-danger { color: #dc3545 !important; }
    .bi-1-circle, .bi-2-circle, .bi-3-circle {
      margin-right: 8px;
      font-size: 1.2em;
    }

    .explanation {
      background: #ffffff;
      margin: 1.5rem 0;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
    }
 
    code {
      background-color: var(--light-bg);
      padding: 0.2em 0.4em;
      border-radius: 3px;
      font-family: 'Roboto Mono', monospace;
      font-size: 0.9em;
    }

    @media (max-width: 768px) {
      .container {
        padding: 20px;
        margin: 10px;
      }
     
      h1 {
        font-size: 2rem;
      }
    }

    .code-section {
      margin: 1.5rem 0;
      position: relative;
    }

    .CodeMirror {
      border-radius: 8px !important;
      border: 1px solid #e0e0e0 !important;
      font-size: 0.95rem;
      transition: box-shadow 0.3s ease;
    }

    .CodeMirror:hover {
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    .output {
      margin-top: 1rem;
      padding: 1rem;
      background-color: #ffffff;
      border: 1px solid #e0e0e0;
      border-radius: 8px;
      white-space: pre-wrap;
      font-family: 'Roboto Mono', monospace;
      font-size: 0.9rem;
      min-height: 50px;
      display: none;
    }

    button {
      padding: 0.8rem 1.5rem;
      background-color: #3498db;
      color: white;
      border: none;
      border-radius: 25px;
      cursor: pointer;
      margin: 1rem 0;
      font-weight: 500;
      transition: all 0.3s ease;
    }

    button:hover {
      background-color: #2980b9;
      transform: translateY(-1px);
      box-shadow: 0 3px 6px rgba(0, 0, 0, 0.1);
    }

    ul {
      padding-left: 1.5rem;
      margin: 1rem 0;
    }

    .guide-content .section {
      background: #f8f9fa;
      border-radius: 8px;
      padding: 20px;
      margin-bottom: 20px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    /* Computational Thinking styles */
    .ct-box {
      background: #e8f4fc;
      padding: 20px;
      border-radius: 8px;
      margin: 20px 0;
      border-left: 4px solid #3498db;
    }

    .ct-step {
      padding-left: 25px;
      position: relative;
      margin-bottom: 10px;
    }

    .ct-step-number {
      position: absolute;
      left: 0;
      font-weight: bold;
      color: #3498db;
    }

    .ct-example {
      background: #e8f8f5;
      padding: 15px;
      border-radius: 8px;
      margin: 15px 0;
      border-left: 4px solid #2ecc71;
    }

    .ct-vocab {
      background: #fef9e7;
      padding: 15px;
      border-radius: 8px;
      margin: 20px 0;
      border-left: 4px solid #f39c12;
    }

    .ct-quiz {
      background: #f5eef8;
      padding: 15px;
      border-radius: 8px;
      margin: 20px 0;
    }

    .ct-option {
      padding: 10px;
      margin: 8px 0;
      border-radius: 5px;
      background: #fff;
      cursor: pointer;
      transition: all 0.3s;
      border: 1px solid #ddd;
    }

    .ct-option:hover {
      background-color: #eaf2f8;
      border-color: #3498db;
    }

    .ct-option.selected {
      background-color: #d4e6f1;
      border-left: 4px solid #3498db;
    }

    .ct-feedback {
      padding: 12px;
      margin-top: 15px;
      border-radius: 5px;
      display: none;
    }

    .ct-feedback.correct {
      background-color: #d5f5e3;
      border-left: 4px solid #2ecc71;
    }

    .ct-feedback.incorrect {
      background-color: #fadbd8;
      border-left: 4px solid #e74c3c;
    }

    /* Drag and Drop Styles */
    .draggable-item {
      padding: 10px;
      margin: 5px 0;
      background: #fff;
      border: 1px solid #ddd;
      border-radius: 5px;
      cursor: move;
      transition: all 0.3s;
    }

    .draggable-item:hover {
      background: #f0f0f0;
    }

    .dropzone {
      min-height: 50px;
      padding: 10px;
      margin: 5px 0;
      background: #f8f9fa;
      border: 2px dashed #ccc;
      border-radius: 5px;
      transition: all 0.3s;
    }

    .dropzone.highlight {
      background: #e9f7ef;
      border-color: #28a745;
    }

    .dropzone.correct {
      background: #d4edda;
      border-color: #28a745;
    }

    .dropzone.incorrect {
      background: #f8d7da;
      border-color: #dc3545;
    }

    .alert {
      padding: 10px;
      border-radius: 5px;
      margin-bottom: 15px;
    }

    .alert-success {
      background-color: #d4edda;
      color: #155724;
    }

    .alert-warning {
      background-color: #fff3cd;
      color: #856404;
    }

    .ct-concept-icon {
      font-size: 1.5rem;
      margin-right: 10px;
      color: #3498db;
    }
    .question-numbers-container {
      background-color: #f8f9fa;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
      height: 100%;
    }

    .question-num-btn.active {
      background-color: #3498db;
      color: white;
      border-color: #3498db;
    }

    .question-num-btn.btn-success {
      background-color: #28a745;
      color: white;
      border-color: #28a745;
    }

    .question-num-btn.btn-danger {
      background-color: #dc3545;
      color: white;
      border-color: #dc3545;
    }

    .ct-option {
      padding: 12px 15px;
      margin: 10px 0;
      border-radius: 8px;
      background: #fff;
      cursor: pointer;
      transition: all 0.3s;
      border: 1px solid #ddd;
    }

    .ct-option:hover {
      background-color: #eaf2f8;
      border-color: #3498db;
    }

    .ct-option.selected {
      background-color: #d4e6f1;
      border-left: 4px solid #3498db;
    }

    .question-numbers {
      display: grid;
      grid-template-columns: repeat(5, minmax(0, 1fr));
      gap: 2px; /* Reduced from 8px to 4px */
      margin-top: 10px;
    }

    .question-num-btn {
      width: 40px; /* Slightly smaller */
      height: 30px; /* Slightly smaller */
      padding: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 400;
      border-radius: 3px;
      font-size: 0.9rem; /* Slightly smaller font */
    }

    .container .guide-content .section .ct-quiz .ct-option.correct-option {
      background-color: #d5f5e3;
      border-left: 4px solid #2ecc71;
    }

    .container .guide-content .section .ct-quiz .ct-option.incorrect {
      background-color: #fadbd8;
      border-left: 4px solid #e74c3c;
    }

    .container .guide-content .section .ct-quiz .ct-option.selected.correct {
      background-color: #d5f5e3;
      border-left: 4px solid #2ecc71;
    }

    /* Dynamic Quiz Styles - Keep existing selectors */
    #quiz-container .ct-option.correct-option {
      background-color: #d5f5e3;
      border-left: 4px solid #2ecc71;
    }

    #quiz-container .ct-option.incorrect {
      background-color: #fadbd8;
      border-left: 4px solid #e74c3c;
    }

    /* Additional styles to make the check answer function work better */
    .ct-quiz .ct-feedback {
      padding: 12px;
      margin-top: 15px;
      border-radius: 5px;
      display: none;
    }

    .ct-quiz .ct-option.correct {
      background-color: #d5f5e3;
      border-left: 4px solid #2ecc71;
    }

    /* Make sure buttons are properly styled */
    .ct-quiz .ct-btn {
      padding: 0.6rem 1.2rem;
      background-color: #3498db;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      margin: 1rem 0;
      font-weight: 500;
      transition: all 0.3s ease;
    }

    .ct-quiz .ct-btn:hover {
      background-color: #2980b9;
    }


    .ct-option.incorrect {
      background-color: #fadbd8;
      border-left: 4px solid #e74c3c;
    }

    @media (max-width: 768px) {
      .question-numbers {
        grid-template-columns: repeat(6, 1fr);
      }
      
      .col-md-8, .col-md-4 {
        width: 100%;
      }
      
      .question-numbers-container {
        margin-top: 20px;
      }
    }
</style>

<body>

  <!-- Header Section -->
  <header id="header" class="header d-flex align-items-center sticky-top">
    <div class="container-fluid container-xl position-relative d-flex align-items-center">
      <a href="../index.html" class="logo d-flex align-items-center me-auto">
        <h1><img src="../img/sbi.logo.png" alt="company logo" width="80" height="80">Sanghamitra Learning</h1>
      </a>

      <nav id="navmenu" class="navmenu">
        <div id="navbar-placeholder"></div>
        <i class="mobile-nav-toggle d-xl-none bi bi-list"></i>
      </nav>
    </div>
  </header>

  <!-- Main Content -->
  <main class="main">
    <div class="page-title" data-aos="fade">
      <div class="heading">
        <div class="container">
          <div class="row d-flex justify-content-center text-center">
            <div class="col-lg-8">
              <h1>Computational Thinking</h1>
              <p class="mb-0">Learn to solve problems like a computer scientist!</p>
            </div>
          </div>
        </div>
      </div>
      <nav class="breadcrumbs">
        <div class="container">
          <ol>
            <li><a href="../index.html">Home</a></li>
            <li><a href="programming.html">Programming</a></li>
            <li class="current">Computational Thinking</li>
          </ol>
        </div>
      </nav>
    </div>
  
    <!-- 1. What is Computational Thinking? -->
    <div class="container guide-content">
      <div class="section" data-aos="fade-up">
        <h2><i class="bi bi-file-earmark-code"></i> 1. What is Computational Thinking?</h2>
  
        <div class="ct-box">
          <p>
            Computation are used in daily life without even realizing it. When we search for things—like groceries in a shop, a book on a shelf, or a file in a folder—we follow a method we’ve learned. Even when we make a to-do list and check off each task, we are using step-by-step thinking to stay organized and complete our work.
          </p>
          
          
          
          
          <div class="alert alert-success">
            <i class="bi bi-lightbulb"></i> <b>Key Idea:</b> You don't need a computer to use computational thinking! It's a problem-solving method we can use everywhere.
          </div>
  
          <div class="ct-example">
            <h3><i class="bi bi-cup-hot"></i> Routine Example: Morning Routine</h3>
            <p>
              Your morning routine uses computational thinking: (1) Wake up, (2) Brush teeth, (3) Get dressed, (4) Eat breakfast. If you do these steps out of order (like eating before brushing), things don't work as well!
            </p>
          </div>
  
          <div class="ct-example">
            <h3><i class="bi bi-book"></i> Library Example: Finding a Book</h3>
            <p>
              To find a book: (1) Decide what you like, (2) Check the catalog, (3) Note the shelf number, (4) Follow signs to the section. This step-by-step approach helps you find books efficiently among thousands!
            </p>
          </div>
  
          <div class="ct-concepts mt-4">
            <h3><i class="bi bi-diagram-3"></i> The 4 Super Skills</h3>
            <div class="ct-step">
              <span class="ct-step-number"><i class="bi bi-1-circle"></i></span>
              <b>Breaking Down:</b> Dividing big problems into smaller, manageable pieces
            </div>
            <div class="ct-step">
              <span class="ct-step-number"><i class="bi bi-2-circle"></i></span>
              <b>Pattern Recognition:</b> Finding similarities that help solve problems faster
            </div>
            <div class="ct-step">
              <span class="ct-step-number"><i class="bi bi-3-circle"></i></span>
              <b>Focusing on Main Details:</b> Identifying what's truly important to solve the problem
            </div>
            <div class="ct-step">
              <span class="ct-step-number"><i class="bi bi-4-circle"></i></span>
              <b>Creating Clear Steps:</b> Writing instructions so clear anyone could follow them
            </div>
          </div>
  
          <div class="ct-vocab">
            <h3><i class="bi bi-book"></i> CT Dictionary</h3>
            <p><b>Computational Thinking:</b> A method for solving problems by organizing thoughts systematically</p>
            <p><b>Algorithm:</b> A set of clear steps to solve a problem (like a recipe)</p>
          </div>
          
         
        </div>
      </div>
    </div>
  
    <!-- 2. Breaking Down Problems -->
    <div class="container guide-content">
      <div class="section" data-aos="fade-up">
        <h2><i class="bi bi-puzzle"></i> 2. Breaking Down Problems</h2>
  
        <div class="ct-box">
          <h3><i class="bi bi-lightbulb"></i> Why It Matters</h3>
          <p>Big problems feel overwhelming! Breaking them into smaller pieces makes them manageable - like eating a pizza slice by slice instead of whole.</p>
  
          <div class="ct-example">
            <h3><i class="bi bi-house-door"></i> Example: Cleaning Your Room</h3>
            <p>
              Instead of "clean room" (too big!):<br>
              (1) Pick up clothes, (2) Organize books, (3) Make bed, (4) Sweep floor.<br>
              Each small task feels achievable!
            </p>
          </div>
          
          <div class="ct-example">
            <h3><i class="bi bi-calculator"></i> Math Example: Solving 25 × 4 </h3>
            <p>
              Use the distributive property: <br>
              25 × 4 = (20 + 5) × 4 <br>
              = (20 × 4) + (5 × 4) &nbsp; <i>(Distributive Property: a × (b + c) = a × b + a × c)</i><br>
              = 80 + 20 <br>
              = <b>100</b><br>
              Breaking numbers makes the calculation easier!
            </p>
          </div>
          
        </div>
  
        <div class="ct-vocab">
          <h3><i class="bi bi-book"></i> CT Dictionary</h3>
          <p><b>Decomposition:</b> Breaking problems into smaller parts</p>
          <p><b>Sub-task:</b> One piece of a larger problem</p>
        </div>
  
        <div class="ct-quiz">
          <p><b>Quick Check:</b> What's the BEST way to solve this problem: "A box has 3 rows with 5 apples in each row. How many apples are there in total?"</p>
          <div class="ct-option" onclick="selectOption(this)">A) Add 3 + 5, then multiply by 3</div>
          <div class="ct-option" onclick="selectOption(this)">B) Draw 15 apples and count them one by one</div>
          <div class="ct-option correct-option" onclick="selectOption(this)">C) Break it down: 3 rows × 5 apples = 15 apples</div>
          <div class="ct-option" onclick="selectOption(this)">D) Subtract 5 from 3, then multiply by 5</div>
          <button class="ct-btn" onclick="checkAnswer(this)">Check Answer</button>
          <div class="ct-feedback correct">
            ✔️ Excellent! Breaking the problem into multiplication (3×5) is the most efficient way to solve it.
          </div>
          <div class="ct-feedback incorrect">
            ❌ Nice try! The other methods are confusing or unnecessarily complicated. The best way is to multiply 3 rows by 5 apples per row: 3×5 = 15 apples.
          </div>
        </div>
        
      </div>
    </div>
  
    <!-- 3. Finding Patterns -->
    <div class="container guide-content">
      <div class="section" data-aos="fade-up">
        <h2><i class="bi bi-diagram-3"></i> 3. Pattern Recognition</h2>
  
        <div class="ct-box">
          <h3><i class="bi bi-lightbulb"></i> Why It Matters</h3>
          <p>
            Finding patterns helps solve new problems faster by applying what worked for similar problems before. By recognizing these patterns, we can predict solutions without starting from scratch every time. This makes problem-solving more efficient and allows us to focus on solving the new aspects of a problem rather than redoing what we've already learned.
          </p>
          
          <div class="ct-example">
            <h3><i class="bi bi-shop"></i> Shopping Example</h3>
            <p>
              At the store, you notice:<br><br>
              - Fruits are always in aisle 1<br>
              - Cereals are in aisle 4<br><br>
              This pattern helps you shop faster!<br><br>
              By remembering where specific items are placed, you can move quickly through the store and pick up what you need without wasting time. Recognizing these common patterns allows you to avoid searching for items, making the shopping experience more efficient.
            </p>
          </div>
          
          
          
          <div class="ct-example">
            <h3><i class="bi bi-calendar"></i> Daily Routine Example</h3>
            <p>
              Notice that:<br><br>
              - Math class always comes after lunch<br>
              - Library day is every Tuesday<br><br>
              Recognizing these patterns helps you prepare!<br><br>
              By knowing when certain events happen regularly, you can organize your time better. For example, you can plan to bring your books for math class before lunch, or remember to bring a library card on Tuesdays. Patterns like this make it easier to stay on top of your schedule without having to constantly check the calendar.
            </p>
          </div>
          
          
        </div>
  
        <div class="ct-vocab">
          <h3><i class="bi bi-book"></i> CT Dictionary</h3>
          <p><b>Pattern:</b> When things repeat in a predictable way</p>
          <p><b>Generalization:</b> Applying patterns to solve similar problems</p>
        </div>
  
        <div class="ct-quiz">
          <p><b>Quick Check:</b> What number comes next in this pattern?<br>
             1, 4, 9, 16, 25, ?</p>
          <div class="ct-option" onclick="selectOption(this)">A) 30</div>
          <div class="ct-option" onclick="selectOption(this)">B) 35</div>
          <div class="ct-option" onclick="selectOption(this)">C) 38</div>
          <div class="ct-option correct-option" onclick="selectOption(this)">D) 36 </div>
          <button class="ct-btn" onclick="checkAnswer(this)">Check Answer</button>
          <div class="ct-feedback correct">
            ✔️ Great job! These numbers are perfect squares: 1², 2², 3², and so on. So, the next is 6² = 36.
          </div>
          <div class="ct-feedback incorrect">
            ❌ Oops! Look again. The pattern follows square numbers (1×1, 2×2, 3×3…). 
            Recognizing these number patterns is a key part of solving problems faster!
          </div>
        </div>
        
        
        </div>
      </div>
    </div>
  
    <!-- 4. Focus on What Matters -->
    <div class="container guide-content">
      <div class="section" data-aos="fade-up">
        <h2><i class="bi bi-filter"></i> 4. Focusing on Main Details</h2>
  
        <div class="ct-box">
          <h3><i class="bi bi-lightbulb"></i> Why It Matters</h3>
          <p>Problems often have extra information that distracts from what's truly important to find the solution.</p>
  
          <div class="ct-example">
            <h3><i class="bi bi-geo-alt"></i> Example: Giving Directions</h3>
            <p>
              To direct someone:<br>
              ✅ Important: "Turn left at the big red bank"<br>
              ✅ Important: "Turn right at the traffic light, and your destination will be on the left."<br>
              ❌ Not important: "There’s a cute dog that barks there sometimes"<br><br>
              Good directions use clear steps and focus on useful landmarks like buildings or turns. Simple, precise instructions help someone find their way easily. Unnecessary details, like a barking dog, can cause confusion and should be avoided.            </p>
          </div>
          
          
          
          <div class="ct-example">
  <h3><i class="bi bi-shop"></i> Shopping Example: Buying Cereal</h3>
  <p>
    When choosing cereal:<br>
    ✅ Important: Price, ingredients, nutrition<br>
    ✅ Important: Brand reputation or customer reviews<br>
    ❌ Not important: Box design, shelf placement<br><br>
    When buying cereal, focus on price, ingredients, nutrition, serving size, and sugar or fiber content. Reviews can help too. Don’t get distracted by box design or shelf placement—stick to the facts to make a smart, healthy choice.  </p>
</div>

          
        </div>
  
        <div class="ct-vocab">
          <h3><i class="bi bi-book"></i> CT Dictionary</h3>
          <p><b>Abstraction:</b> Focusing only on details that matter for the solution</p>
          <p><b>Filtering:</b> Ignoring unnecessary information</p>
        </div>
  
        <div class="ct-quiz">
          <p><b>Quick Check:</b> For this math problem: "Rahul has 3 cats. Each cat eats 2 meals daily. How many meals total?", what information is NOT needed?</p>
          <div class="ct-option correct-option" onclick="selectOption(this)">A) The cats' names</div>
          <div class="ct-option" onclick="selectOption(this)">B) Number of cats (3)</div>
          <div class="ct-option" onclick="selectOption(this)">C) Meals per cat (2)</div>
          <div class="ct-option" onclick="selectOption(this)">D) The word "total"</div>
          <button class="ct-btn" onclick="checkAnswer(this)">Check Answer</button>
          <div class="ct-feedback correct">
            ✔️ Perfect! The cats' names don't help solve the math problem. Good abstraction means focusing only on the numbers needed for calculation (3 cats × 2 meals).
          </div>
          <div class="ct-feedback incorrect">
            ❌ Let's analyze: While "total" seems like just a word, it actually tells us we need to add/multiply. 
            The numbers (3 cats, 2 meals) are clearly needed. The cats' names are irrelevant to calculating meal quantities - 
            this is the kind of detail we learn to filter out when focusing on what matters.
          </div>
        </div>
      </div>
    </div>
  
    <!-- 5. Plan Step by Step -->
    <div class="container guide-content">
      <div class="section" data-aos="fade-up">
        <h2><i class="bi bi-list-check"></i> 5. Creating Clear Steps</h2>
  
        <div class="ct-box">
          <h3><i class="bi bi-lightbulb"></i> Why It Matters</h3>
          <p>Clear, ordered steps prevent mistakes and ensure anyone (or a computer) can follow the solution.</p>
  
          <div class="ct-example">
            <h3><i class="bi bi-alarm"></i> Example: Brushing Teeth</h3>
            <p>
              Correct order:<br>
              1. Wet toothbrush<br>
              2. Add toothpaste<br>
              3. Brush teeth<br>
              4. Rinse mouth<br>
              Doing these out of order doesn't work!
            </p>
          </div>
          
          <div class="ct-example">
            <h3><i class="bi bi-signpost"></i> Example: Crossing the Road</h3>
            <p>
              Safe steps:<br>
              1. Stop at curb<br>
              2. Look left-right-left<br>
              3. Cross when clear<br>
              4. Keep looking while crossing<br>
              Clear steps prevent accidents!
            </p>
          </div>
        </div>
  
        <div class="ct-vocab">
          <h3><i class="bi bi-book"></i> CT Dictionary</h3>
          <p><b>Algorithm:</b> A set of clear, ordered instructions to solve a problem</p>
          <p><b>Sequence:</b> The specific order steps must follow</p>
        </div>
  
        <div class="ct-quiz">
          <p><b>Quick Check:</b> What's the BEST set of instructions for planting a seed?</p>
          <div class="ct-option" onclick="selectOption(this)">A) "Just put it in dirt and hope"</div>
          <div class="ct-option" onclick="selectOption(this)">B) "Do whatever looks right"</div>
          <div class="ct-option correct-option" onclick="selectOption(this)">C) "1. Dig hole 2. Put seed in 3. Cover with soil 4. Water lightly"</div>
          <div class="ct-option" onclick="selectOption(this)">D) "Ask a plant to grow itself"</div>
          <button class="ct-btn" onclick="checkAnswer(this)">Check Answer</button>
          <div class="ct-feedback correct">
            ✔️ Perfect! Numbered, clear steps in the right order make the best algorithm. 
            This ensures the seed has the best chance to grow because each step prepares for the next.
          </div>
          <div class="ct-feedback incorrect">
            ❌ Think about recipes - they work because steps are clear and ordered. 
            Planting needs specific preparation (digging) before placing the seed, then protection (covering), 
            then care (watering). Skipping or rearranging steps (like watering before putting seed in) wouldn't work well.
          </div>
        </div>
      </div>
      <div class="container guide-content">
        <div class="section" data-aos="fade-up">
          <h2><i class="bi bi-question-circle"></i> Computational Thinking Quiz</h2>
          
          <div id="quiz-container" class="ct-box">
            <div id="quiz-loading">Loading quiz questions...</div>
            
            <div id="quiz-content" style="display:none;">
              <div class="quiz-header">
                <div class="quiz-progress">
                  <span id="question-counter">Question 1 of 30</span>
                  <div class="progress">
                    <div id="progress-bar" class="progress-bar" role="progressbar" style="width: 3%"></div>
                  </div>
                </div>
              </div>
              
              <div class="row mt-4">
                <!-- Quiz content - Left side -->
                <div class="col-md-8">
                  <div id="question-container">
                    <h3 id="question-text">Question text will appear here</h3>
                    <div id="options-container" class="mt-3">
                      <!-- Options will be populated here -->
                    </div>
                  </div>
                  
                  <div id="explanation-container" class="mt-3" style="display:none;">
                    <div class="alert" id="answer-feedback">
                      Feedback will appear here
                    </div>
                    <div class="alert alert-info" id="explanation-text">
                      Explanation will appear here
                    </div>
                  </div>
                  
                  <div class="quiz-navigation mt-4">
                    <button id="prev-btn" class="btn btn-outline-primary" disabled>Previous</button>
                    <button id="next-btn" class="btn btn-outline-primary">Next</button>
                  </div>
                  
                  <div class="quiz-actions mt-4">
                    <button id="check-answer-btn" class="btn btn-success">Check Answer</button>
                    <button id="submit-quiz-btn" class="btn btn-primary" style="display:none;">Submit Quiz</button>
                  </div>
                </div>
                
                <!-- Question numbers - Right side -->
                <div class="col-md-4">
                  <div class="question-numbers-container p-3 border rounded">
                    <h4>Question Navigator</h4>
                    <div class="question-numbers" id="question-navigator">
                      <!-- Question number buttons will be populated here -->
                    </div>
                  </div>
                </div>
              </div>
              
              <div id="quiz-results" class="mt-4" style="display:none;">
                <h3>Quiz Results</h3>
                <div class="alert alert-info">
                  <p>You scored: <span id="score-display">0</span> out of 30</p>
                  <div class="progress mt-2">
                    <div id="score-progress" class="progress-bar" role="progressbar" style="width: 0%"></div>
                  </div>
                </div>
                <button id="retry-quiz-btn" class="btn btn-outline-primary mt-2">Try Again</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Next Steps Section -->
    <div class="container guide-content">
      <div class="section text-center" data-aos="fade-up">
        <h2>Ready to Learn More?</h2>
        <p>Now that you understand the basics of Computational Thinking, let's explore further topics in Computational Thinking!</p>
        <a href="CT_foundation_1.html" class="btn btn-primary">Continue to Next Lesson</a>
      </div>
    </div>
  </main>

    <div class="container copyright text-center mt-4">
      <p>© <span>Copyright</span> <strong class="px-1">Sanghamitra Learning</strong> <span>All Rights Reserved</span></p>
      <div class="credits">
        Designed by <a href="">Sanghamitra</a>
      </div>
    </div>
  </footer>

  <script>

    let username = null;
    let email = null;
    let quizState = {
      questions: [],
      currentQuestionIndex: 0,
      userAnswers: Array(30).fill(null),
      answersChecked: Array(30).fill(false),
      score: 0
    };

    // Check if user is logged in and fetch their previous quiz attempts
    async function fetchSessionInfo() {
      try {
        const sessionResponse = await fetch('http://localhost:4000/api/session-info', { 
          credentials: 'include' 
        });
        
        if (sessionResponse.ok) {
          const sessionData = await sessionResponse.json();
          email = sessionData.email;
          username = sessionData.username;
          window.username = username;
          window.email = email;
          
          // Initialize quiz and fetch user's previous answers
          await initializeQuiz();
          await fetchPreviousAnswers();
        } else {
          window.location.href = 'user_login.html';
        }
      } catch (error) {
        console.error('Error fetching session info:', error);
        showError('Failed to get session information. Please refresh or log in again.');
      }
    }

    // Function to fetch user's previous answers for this topic
    async function fetchPreviousAnswers() {
      try {
        const response = await fetch(`http://localhost:4000/api/CT_finger_scores/${email}/CT_foundation`, {
          credentials: 'include'
        });
        
        if (response.ok) {
          const data = await response.json();
          
          // Get answers from all quiz attempts
          if (data.quizzes && data.quizzes.length > 0) {
            // Create a map of all answered questions using questionId as key
            const answeredQuestions = new Map();
            
            // Process all quiz attempts, newest first for potential duplicates
            const sortedQuizzes = data.quizzes.sort((a, b) => 
              new Date(b.date) - new Date(a.date)
            );
            
            // Reset score before restoring
            quizState.score = 0;
            
            // Go through all quizzes and collect answers
            sortedQuizzes.forEach(quiz => {
              quiz.answers.forEach(answer => {
                // Only add if not already added (from a newer attempt)
                if (!answeredQuestions.has(answer.questionId)) {
                  answeredQuestions.set(answer.questionId, answer);
                  
                  // Find the index of this question in our current quiz
                  const questionIndex = quizState.questions.findIndex(q => q.id === answer.questionId);
                  
                  if (questionIndex !== -1) {
                    // Store the user's answer
                    quizState.userAnswers[questionIndex] = answer.userAnswer;
                    quizState.answersChecked[questionIndex] = true;
                    
                    // Update score if correct
                    if (answer.isCorrect) {
                      quizState.score++;
                    }
                  }
                }
              });
            });
            
            // Update display
            displayQuestion(quizState.currentQuestionIndex);
            updateQuestionNavigator();
            
            // Show Submit button if all questions have been answered
            const allAnswered = quizState.answersChecked.every(Boolean);
            document.getElementById('submit-quiz-btn').style.display = allAnswered ? 'inline-block' : 'none';
          }
        }
      } catch (error) {
        console.error('Error fetching previous answers:', error);
        // Continue with quiz without previous answers
      }
    }
    

    // Function to handle option selection in static examples
    function selectOption(option) {
      const questionDiv = option.closest('.ct-quiz');
      const options = questionDiv.querySelectorAll('.ct-option');

      // Remove selected class from all options
      options.forEach(opt => {
        opt.classList.remove('selected');
      });

      // Add selected class to clicked option
      option.classList.add('selected');
    }

    // Improved function to check answers in static examples
    function checkAnswer(button) {
      const questionDiv = button.closest('.ct-quiz');
      const selectedOption = questionDiv.querySelector('.ct-option.selected');
      const correctOption = questionDiv.querySelector('.correct-option');
      const correctFeedback = questionDiv.querySelector('.ct-feedback.correct');
      const incorrectFeedback = questionDiv.querySelector('.ct-feedback.incorrect');

      // Hide all feedback first
      if (correctFeedback) correctFeedback.style.display = 'none';
      if (incorrectFeedback) incorrectFeedback.style.display = 'none';

      // Reset existing visual feedback
      questionDiv.querySelectorAll('.ct-option').forEach(opt => {
        opt.classList.remove('correct', 'incorrect');
      });

      if (selectedOption) {
        if (selectedOption === correctOption) {
          // Correct answer
          correctFeedback.style.display = 'block';
          selectedOption.classList.add('correct');
        } else {
          // Incorrect answer
          incorrectFeedback.style.display = 'block';
          selectedOption.classList.add('incorrect');
          correctOption.classList.add('correct-option'); // Make sure correct option is styled
        }
      } else {
        alert('Please select an answer first!');
      }
    }

    // Initialize the quiz
    async function initializeQuiz() {
      try {
        // Fetch questions from the API
        const response = await fetch('http://localhost:4000/api/CT_finger?topic=CT_foundation');
        
        if (!response.ok) {
          throw new Error('Failed to fetch quiz questions');
        }
        
        const data = await response.json();
        
        // Make sure we have questions
        quizState.questions = data.data;
        
        if (quizState.questions.length < 30) {
          throw new Error('Not enough questions available');
        }
        
        // Initialize arrays based on actual question count
        quizState.userAnswers = Array(quizState.questions.length).fill(null);
        quizState.answersChecked = Array(quizState.questions.length).fill(false);
        
        // Hide loading, show quiz content
        document.getElementById('quiz-loading').style.display = 'none';
        document.getElementById('quiz-content').style.display = 'block';
        
        // Set up question navigation
        setupQuestionNavigation();
        
        // Display the first question
        displayQuestion(0);
        
      } catch (error) {
        console.error('Error initializing quiz:', error);
        document.getElementById('quiz-loading').innerHTML = `
          <div class="alert alert-danger">
            Failed to load quiz: ${error.message}. Please refresh the page to try again.
          </div>
        `;
      }
    }

    // Set up question navigation buttons
    function setupQuestionNavigation() {
      const navigator = document.getElementById('question-navigator');
      navigator.innerHTML = '';
      
      for (let i = 0; i < quizState.questions.length; i++) {
        const button = document.createElement('button');
        button.textContent = i + 1;
        button.className = 'btn btn-outline-secondary question-num-btn';
        button.dataset.index = i;
        
        // Mark current question
        if (i === quizState.currentQuestionIndex) {
          button.classList.add('active');
        }
        
        button.addEventListener('click', () => {
          navigateToQuestion(i);
        });
        
        navigator.appendChild(button);
      }
      
      // Set up navigation button handlers
      document.getElementById('next-btn').addEventListener('click', () => {
        navigateToQuestion(quizState.currentQuestionIndex + 1);
      });
      
      document.getElementById('prev-btn').addEventListener('click', () => {
        navigateToQuestion(quizState.currentQuestionIndex - 1);
      });
      
      document.getElementById('check-answer-btn').addEventListener('click', checkQuizAnswer);
      document.getElementById('submit-quiz-btn').addEventListener('click', submitQuiz);
      document.getElementById('retry-quiz-btn').addEventListener('click', resetQuiz);
      
      // Update navigator to show answered questions
      updateQuestionNavigator();
    }

    // Update the question navigator to show progress
    function updateQuestionNavigator() {
      const questionButtons = document.querySelectorAll('.question-num-btn');
      
      // Update the statistics display at the top
      const answeredCount = quizState.answersChecked.filter(Boolean).length;
      const correctCount = quizState.score;
      
      // Add a progress summary if it doesn't exist
      if (!document.getElementById('quiz-progress-summary')) {
        const summaryDiv = document.createElement('div');
        summaryDiv.id = 'quiz-progress-summary';
        summaryDiv.className = 'alert alert-info mt-2 mb-3';
        document.querySelector('.question-numbers-container h4').after(summaryDiv);
      }
      
      // Update the progress summary - show completed/total and correct/total
      document.getElementById('quiz-progress-summary').innerHTML = `
        <div><strong>Completed:</strong> ${answeredCount}/${quizState.questions.length}</div>
        <div><strong>Correct:</strong> ${correctCount}/${answeredCount}</div>
      `;
      
      // Update the buttons
      questionButtons.forEach(btn => {
        const btnIndex = parseInt(btn.dataset.index);
        // Reset all classes first
        btn.classList.remove('active', 'btn-primary', 'btn-success', 'btn-danger');
        
        // Mark current question
        if (btnIndex === quizState.currentQuestionIndex) {
          btn.classList.add('active', 'btn-primary');
        } 
        // Mark answered questions based on correctness
        else if (quizState.answersChecked[btnIndex]) {
          const isCorrect = quizState.userAnswers[btnIndex] === quizState.questions[btnIndex].correctAnswer;
          if (isCorrect) {
            btn.classList.add('btn-success');
          } else {
            btn.classList.add('btn-danger');
          }
        }
      });
    }

    // Display a question by index
    function displayQuestion(index) {
      if (index < 0 || index >= quizState.questions.length) {
        return;
      }
      
      // Update current question index
      quizState.currentQuestionIndex = index;
      
      // Update question counter and progress bar
      document.getElementById('question-counter').textContent = `Question ${index + 1} of ${quizState.questions.length}`;
      document.getElementById('progress-bar').style.width = `${((index + 1) / quizState.questions.length) * 100}%`;
      
      // Get current question
      const question = quizState.questions[index];
      
      // Display question text
      document.getElementById('question-text').textContent = question.question;
      
      // Reset and populate options
      const optionsContainer = document.getElementById('options-container');
      optionsContainer.innerHTML = '';
      
      question.options.forEach((option, optionIndex) => {
        const optionElement = document.createElement('div');
        optionElement.className = 'ct-option';
        optionElement.textContent = option;
        optionElement.dataset.index = optionIndex;
        
        // If this question has been answered, show the selection
        if (quizState.userAnswers[index] === optionIndex) {
          optionElement.classList.add('selected');
        }
        
        // Add correct/incorrect classes if answer has been checked
        if (quizState.answersChecked[index]) {
          if (optionIndex === question.correctAnswer) {
            optionElement.classList.add('correct-option');
          } 
          if (quizState.userAnswers[index] === optionIndex && 
              optionIndex !== question.correctAnswer) {
            optionElement.classList.add('incorrect');
          }
        }
        
        optionElement.addEventListener('click', () => {
          // Only allow selection if answer hasn't been checked
          if (!quizState.answersChecked[index]) {
            selectQuizOption(optionElement);
          }
        });
        
        optionsContainer.appendChild(optionElement);
      });
      
      // Show/hide explanation
      const explanationContainer = document.getElementById('explanation-container');
      if (quizState.answersChecked[index]) {
        explanationContainer.style.display = 'block';
        const isCorrect = quizState.userAnswers[index] === question.correctAnswer;
        
        document.getElementById('answer-feedback').className = isCorrect ? 
          'alert alert-success' : 'alert alert-danger';
        document.getElementById('answer-feedback').innerHTML = isCorrect ?
          '✔️ Correct! Great job!' : '❌ Not quite right.';
        document.getElementById('explanation-text').textContent = question.explanation;
      } else {
        explanationContainer.style.display = 'none';
      }
      
      // Update navigation buttons state
      document.getElementById('prev-btn').disabled = index === 0;
      document.getElementById('next-btn').disabled = index === quizState.questions.length - 1;
      
      // Update question navigator buttons
      updateQuestionNavigator();
      
      // Show Submit button if all questions have been answered
      const allAnswered = quizState.answersChecked.every(Boolean);
      document.getElementById('submit-quiz-btn').style.display = allAnswered ? 'inline-block' : 'none';
      
      // Show/hide Check Answer button based on if user selected an answer and hasn't checked yet
      document.getElementById('check-answer-btn').disabled = 
        quizState.userAnswers[index] === null || quizState.answersChecked[index];
    }

    // Navigate to a specific question
    function navigateToQuestion(index) {
      if (index >= 0 && index < quizState.questions.length) {
        displayQuestion(index);
      }
    }

    // Select an option for the current question
    function selectQuizOption(optionElement) {
      // Remove selected class from all options
      const options = document.querySelectorAll('.ct-option');
      options.forEach(opt => opt.classList.remove('selected'));
      
      // Add selected class to clicked option
      optionElement.classList.add('selected');
      
      // Store user answer
      const optionIndex = parseInt(optionElement.dataset.index);
      quizState.userAnswers[quizState.currentQuestionIndex] = optionIndex;
      
      // Enable check answer button
      document.getElementById('check-answer-btn').disabled = false;
    }

    // Check the answer for the current question and save progress
    async function checkQuizAnswer() {
      const currentIndex = quizState.currentQuestionIndex;
      const userAnswer = quizState.userAnswers[currentIndex];
      const correctAnswer = quizState.questions[currentIndex].correctAnswer;
      const questionId = quizState.questions[currentIndex].id;
      
      // Mark this question as checked
      quizState.answersChecked[currentIndex] = true;
      
      // Determine if answer is correct
      const isCorrect = userAnswer === correctAnswer;
      
      // Update score if correct
      if (isCorrect) {
        quizState.score++;
      }
      
      // Save this individual answer to the database
      try {
        const result = {
          email: email,
          username: username,
          topic: 'CT_foundation',
          score: isCorrect ? 1 : 0,
          totalQuestions: 1,
          answers: [{
            questionId: questionId,
            userAnswer: userAnswer,
            isCorrect: isCorrect
          }]
        };
        
        // Send to server
        fetch('http://localhost:4000/api/CT_finger_scores', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify(result),
          credentials: 'include'
        });
        
        // Don't wait for response - continue with UI update
      } catch (error) {
        console.error('Error saving answer:', error);
        // Continue anyway - don't block user
      }
      
      // Redisplay question to show correct/incorrect and explanation
      displayQuestion(currentIndex);
      
      // Update question navigator
      updateQuestionNavigator();
      
      // Show Submit button if all questions have been answered
      const allAnswered = quizState.answersChecked.every(Boolean);
      
      document.getElementById('submit-quiz-btn').style.display = 
        allAnswered ? 'inline-block' : 'none';
    }

    // Submit the quiz and show results
    async function submitQuiz() {
      // Show quiz results
      document.getElementById('score-display').textContent = quizState.score;
      document.getElementById('score-progress').style.width = `${(quizState.score / quizState.questions.length) * 100}%`;
      document.getElementById('quiz-results').style.display = 'block';
      
      // Hide navigation and check button
      document.getElementById('check-answer-btn').style.display = 'none';
      document.getElementById('submit-quiz-btn').style.display = 'none';
      
      try {
        // Prepare comprehensive quiz results
        const result = {
          email: email,
          username: username,
          topic: 'CT_foundation',
          score: quizState.score,
          totalQuestions: quizState.questions.length,
          date: new Date().toISOString(),
          answers: quizState.questions.map((question, index) => ({
            questionId: question.id,
            userAnswer: quizState.userAnswers[index],
            isCorrect: quizState.userAnswers[index] === question.correctAnswer
          }))
        };
        
        // Send complete results to server
        const response = await fetch('http://localhost:4000/api/CT_finger_scores', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify(result),
          credentials: 'include'
        });
        
        if (!response.ok) {
          throw new Error('Failed to save quiz results');
        }
        
        console.log('Complete quiz results saved successfully');
      } catch (error) {
        console.error('Error saving complete quiz results:', error);
        // Show error message to user
        alert('There was a problem saving your quiz results. Please try again later.');
      }
    }

    // Reset the quiz to start over
    function resetQuiz() {
      quizState = {
        questions: quizState.questions,
        currentQuestionIndex: 0,
        userAnswers: Array(quizState.questions.length).fill(null),
        answersChecked: Array(quizState.questions.length).fill(false),
        score: 0
      };
      
      // Reset UI
      document.getElementById('quiz-results').style.display = 'none';
      document.getElementById('check-answer-btn').style.display = 'inline-block';
      document.getElementById('submit-quiz-btn').style.display = 'none';
      
      // Display first question
      displayQuestion(0);
      
      // Reset navigation
      updateQuestionNavigator();
    }

    // Show error message
    function showError(message) {
      const quizLoading = document.getElementById('quiz-loading');
      if (quizLoading) {
        quizLoading.innerHTML = `
          <div class="alert alert-danger">
            ${message}
          </div>
        `;
      } else {
        alert(message);
      }
    }

    // Initialize quiz when page loads
    document.addEventListener('DOMContentLoaded', function() {
      fetchSessionInfo();
    });
    
  </script>

  <!-- Scroll Top -->
  <a href="#" id="scroll-top" class="scroll-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

  <!-- Vendor JS Files -->
  <script src="../assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="../assets/vendor/php-email-form/validate.js"></script>
  <script src="../assets/vendor/aos/aos.js"></script>
  <script src="../assets/vendor/glightbox/js/glightbox.min.js"></script>
  <script src="../assets/vendor/purecounter/purecounter_vanilla.js"></script>
  <script src="../assets/vendor/swiper/swiper-bundle.min.js"></script>

  <!-- Main JS File -->
  <script src="../assets/js/main.js"></script>
  <script src="navbar.js"></script>
</body>
</html>
