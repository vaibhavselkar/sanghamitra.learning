<!DOCTYPE html>
<html lang="en">
 
<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <title>Arithmetic</title>
  <meta content="" name="description">
  <meta content="" name="keywords">

  <!-- Favicons -->
  <link href="../assets/img/favicon.png" rel="icon">
  <link href="../assets/img/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com" rel="preconnect">
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;1,300;1,400;1,500;1,600;1,700;1,800&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800&family=Raleway:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800&display=swap" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="../assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="../assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="../assets/vendor/aos/aos.css" rel="stylesheet">
  <link href="../assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
  <link href="../assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css">

  <!-- Main CSS File -->
  <link href="../assets/css/main.css" rel="stylesheet">

  <!-- =======================================================
  * Template Name: Mentor
  * Template URL: https://bootstrapmade.com/mentor-free-education-bootstrap-theme/
  * Updated: Mar 19 2024 with Bootstrap v5.3.3
  * Author: BootstrapMade.com
  * License: https://bootstrapmade.com/license/
  ======================================================== -->
</head>
<style>
  /* Base Styles */
  .concept-section .container {
    max-width: 800px;
    padding: 20px 15px !important;
  }

  .concept-step {
    margin: 15px 0;
    padding: 10px;
    background: #f8f9fa;
    border-radius: 5px;
  }

  /* Card System */
  .grade-section .card {
    border: 2px solid #28a745;
    border-radius: 15px;
    margin-bottom: 25px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
  }

  .grade-section .card-header {
    background: #28a745 !important;
    border-radius: 15px 15px 0 0 !important;
    padding: 1.2rem;
  }

  .grade-section .card-header h3 {
    color: white;
    font-weight: 600;
    margin: 0;
    font-size: 1.4rem;
  }

  .card-body {
    padding: 1.5rem;
    background: #f8fafc;
  }

  /* Question Interface */
  .question-card, .progress-card {
    height: 500px;
    overflow-y: auto;
  }

  .math-problem {
    font-family: 'Courier New', Courier, monospace;
    width: fit-content;
    margin: 0 auto;
    padding: 1rem;
    background: #fff;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  }

  /* Question Navigation */
  #questionNavigation {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(45px, 1fr));
    gap: 0.5rem;
    padding: 1rem 0;
  }

  .question-number {
    padding: 10px;
    margin: 5px;
    border: 2px solid #dee2e6;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.2s ease;
    text-align: center;
    background: white;
    position: relative;
    min-width: 45px;
  }

  .question-number:hover {
    transform: translateY(-2px);
    box-shadow: 0 2px 6px rgba(0,0,0,0.1);
  }

  .question-number.active {
    border-color: #28a745;
    background-color: #28a745;
    color: white;
    transform: scale(1.05);
  }

  .question-number.answered {
    border-width: 3px;
  }

  .question-number.correct {
    background-color: #28a745;
    border-color: #28a745;
    color: white;
  }

  .question-number.incorrect {
    background-color: #dc3545;
    border-color: #dc3545;
    color: white;
  }

  .question-number.correct::after {
    content: "‚úì";
    position: absolute;
    top: 2px;
    right: 2px;
    font-size: 0.8em;
  }

  .question-number.incorrect::after {
    content: "‚úó";
    position: absolute;
    top: 2px;
    right: 2px;
    font-size: 0.8em;
  }

  /* Progress System */
  .progress {
    height: 1.5rem;
    border-radius: 10px;
    background-color: #e9ecef;
    overflow: visible;
  }

  .progress-bar {
    background-color: #28a745;
    border-radius: 10px;
    transition: width 0.3s ease;
    font-weight: 500;
  }

  /* Answer States */
  .btn-success {
    background-color: #28a745 !important;
    border-color: #28a745 !important;
    color: white !important;
  }

  .btn-danger {
    background-color: #dc3545 !important;
    border-color: #dc3545 !important;
    color: white !important;
  }

  .options-container button {
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
  }

  .options-container button:not(:disabled):hover {
    transform: translateY(-2px);
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  }

  .options-container button.active {
    border-color: #007bff !important;
    background-color: #e3f2fd !important;
  }

  /* Feedback States */
  .alert-success {
    background-color: #d4edda;
    border-color: #c3e6cb;
    color: #155724;
  }

  .alert-danger {
    background-color: #f8d7da;
    border-color: #f5c6cb;
    color: #721c24;
  }

  /* Responsive Adjustments */
  @media (max-width: 768px) {
    .question-card, .progress-card {
      height: auto;
      margin-bottom: 1.5rem;
    }
    
    #questionNavigation {
      grid-template-columns: repeat(auto-fill, minmax(40px, 1fr));
      gap: 0.3rem;
    }
    
    .question-number {
      padding: 8px;
      min-width: 40px;
    }
  }
  .question-number {
    transition: all 0.2s ease;
    border: 2px solid #dee2e6;
    background: white;
    color: #333;
    cursor: pointer;
    user-select: none;
}

.question-number.answered.correct {
    background: #28a745 !important;
    border-color: #28a745 !important;
    color: white !important;
}

.question-number.answered.incorrect {
    background: #dc3545 !important;
    border-color: #dc3545 !important;
    color: white !important;
}

.question-number.answered::after {
    content: "";
    position: absolute;
    top: 2px;
    right: 2px;
    font-size: 0.8em;
}

.question-number.answered.correct::after {
    content: "‚úì";
}

.question-number.answered.incorrect::after {
    content: "‚úó";
}

.options-container button.disabled {
    opacity: 0.7;
    cursor: not-allowed;
}
</style>

<body>

  <header id="header" class="header d-flex align-items-center sticky-top">
    <div class="container-fluid container-xl position-relative d-flex align-items-center">

      <a href="../index.html" class="logo d-flex align-items-center me-auto">
        <!-- Uncomment the line below if you also wish to use an image logo -->
        <img src="../img/sbi.logo.png" alt="Logo" width="80" height="80"> 
        <h1 class="">Sanghamitra Learning</h1>
      </a>

      <nav id="navmenu" class="navmenu">
        <div id="navbar-placeholder"></div>
        <i class="mobile-nav-toggle d-xl-none bi bi-list"></i>
      </nav>

    </div>
  </header>

  <main class="main">

    <!-- Page Title -->
    <div class="page-title" data-aos="fade" style="margin-bottom: 2rem;">
      <div class="heading">
        <div class="container">
          <div class="row d-flex justify-content-center text-center">
            <div class="col-lg-8">
              <h1>Addition</h1>
              <p class="mb-0">Welcome to our addition learning hub. Enhance your basics skills with our comprehensive resources and interactive lessons. Join our community and embark on an enriching journey towards mastering addition.</p>
            </div>
          </div>
        </div>
      </div>
      <nav class="breadcrumbs">
        <div class="container">
          <ol>
            <li><a href="index.html">Home</a></li>
            <li><a href="math.html">Math</a></li>
            <li><a href="arithmetic.html">Arithmetic</a></li>
            <li class="current">Addition</li>
          </ol>
        </div>
      </nav>
    </div><!-- End Page Title -->
    <section class="intro-section py-5">
      <div class="container">
        <div class="row">
          <div class="col-lg-12 text-center">
            <h2 class="mb-4">‚ûï Let's Learn Addition! üéâ</h2>
            <p class="lead">Math is fun when you add it up! üåü</p>
          </div>
        </div>
      </div>
    </section>
    <!-- New Concept Section -->
    <!-- Revised Concept Section -->
<section class="grade-section py-3">  <!-- Use same section class as other boxes -->
  <div class="container">
    <div class="row mb-5">
      <div class="col-lg-12">
        <div class="card shadow">  <!-- Same card component -->
          <div class="card-header bg-success text-white">  <!-- Matching header -->
            <h3>üßÆ How Addition Works</h3>  <!-- Consistent heading level -->
          </div>
          <div class="card-body">  <!-- Standard card body -->
            <div class="concept-steps">
              <!-- Keep your existing mathematical content here -->
              <div class="concept-step">
                11 + 56 = <br>
                <span class="text-success">(1 √ó 10 + 1 √ó 1)</span> + 
                <span class="text-primary">(5 √ó 10 + 6 √ó 1)</span>
              </div>

          <div class="concept-step" style="padding: 8px; margin: 10px 0;">
            = <span class="text-success">1 √ó 10</span> + <span class="text-primary">5 √ó 10</span> + 
            <span class="text-success">1 √ó 1</span> + <span class="text-primary">6 √ó 1</span>
          </div>

          <div class="concept-step" style="padding: 8px; margin: 10px 0;">
            = <span class="text-success">(1 + 5)</span> √ó 10 + <span class="text-primary">(1 + 6)</span> √ó 1
          </div>

          <div class="concept-step text-success fw-bold" style="padding: 8px; margin: 10px 0;">
            = 6 √ó 10 + 7 √ó 1 = 67
          </div>

          <div class="alert alert-info mt-3" style="padding: 12px;">  <!-- Reduced top margin and padding -->
            <i class="bi bi-lightbulb"></i> Remember: Always align numbers by their place values!
            <br>Units (ones) ‚Üí Tens ‚Üí Hundreds ‚Üí ...
            <br>We use the conventional vertical format to simplify calculations, reduce errors, and handle larger numbers systematically.
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

    <!-- Add this right after the concept section -->
<section class="grade-section py-3">
  <div class="container">
    <div class="row mb-5">
      <div class="col-lg-12">
        <div class="card shadow">
          <div class="card-header bg-success text-white">
            <h3>üìù Standard Addition Method</h3>
          </div>
          <div class="card-body">
            <p class="lead">We align numbers by place value and carry over extra tens:</p>
            
            <!-- Visual example -->
            <div class="math-problem position-relative" style="max-width: 150px">
              <div class="position-absolute start-0" style="top: -20px">
                <small class="text-success fw-bold">1</small>
              </div>
              <div class="d-flex flex-column gap-2">
                <div class="d-flex justify-content-end gap-1">
                  <div style="width: 30px">2</div>
                  <div style="width: 30px">8</div>
                </div>
                <div class="d-flex justify-content-end gap-1 border-bottom pb-2">
                  <div style="width: 30px">+1</div>
                  <div style="width: 30px">5</div>
                </div>
                <div class="d-flex justify-content-end gap-1">
                  <div style="width: 30px">4</div>
                  <div style="width: 30px">3</div>
                </div>
              </div>
            </div>

            <!-- Explanation -->
            <div class="mt-4">
              <ol class="list-unstyled">
                <li class="mb-2">
                  <span class="badge bg-primary me-2">1</span>
                  Add ones place: 8 + 5 = 13 (write 3, carry 1)
                </li>
                <li class="mb-2">
                  <span class="badge bg-primary me-2">2</span>
                  Add tens place: 2 + 1 + <u>carried 1</u> = 4
                </li>
                <li>
                  <span class="badge bg-primary me-2">3</span>
                  Final result: 43
                </li>
              </ol>
              
              <div class="alert alert-info mt-3">
                <i class="bi bi-lightbulb"></i> Why we align columns:
                <ul class="mt-2">
                  <li>Ensures proper place value alignment</li>
                  <li>Makes carrying operations clear</li>
                  <li>Maintains number position consistency</li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
  
    <section class="grade-section py-5 bg-light">
      <div class="container">
        <!-- Grade 1 -->
        <div class="row mb-5">
          <div class="col-lg-12">
            <div class="card shadow">
              <div class="card-header bg-success text-white">
                <h3></i>Adding Small Numbers</h3>
              </div>
              <div class="card-body">
                <p>üçé + üçé = üçéüçé</p>
                <p class="fs-4">Start with <span class="term-tooltip">counting
                    <span class="tooltip-content">
                      <span class="close-tooltip">&times;</span>
                      <strong>Counting</strong>: The process of determining the number of objects.<br>
                      
                    </span>
                </span> objects:</p>

                <div class="d-flex gap-2 mb-3">
                  <p>2 + 3 = 5</p>
                </div>
                <div class="alert alert-info">
                  <i class="bi bi-lightbulb"></i> Try: 4 üê± + 2 üê± = ? üê±
                </div>
              </div>
            </div>
          </div>
        </div>
  
        <!-- Grade 2 -->
        <div class="row mb-5">
          <div class="col-lg-12">
            <div class="card shadow">
              <div class="card-header bg-success text-white">
                <h3></i>Adding Numbers</h3>
              </div>
              <div class="card-body">
                <p>‚úèÔ∏è Practice two-digit addition:</p>
                <pre class="bg-dark text-white p-3 rounded">
    12
  +  7
  ----
    19</pre>
                <div class="alert alert-warning mt-3">
                  <i class="bi bi-abacus"></i> Use number lines or counting beads!
                </div>
              </div>
            </div>
          </div>
        </div>
  
        <!-- Grade 3 -->
        <div class="row mb-5">
            <div class="col-lg-12">
              <div class="card shadow">
                <div class="card-header bg-success text-dark">
                  <h3></i>Carrying Over</h3>
                </div>
                <div class="card-body">
                  <p>üìù Step-by-step example:</p>
                  
                  <!-- Math Problem Container -->
                  <div class="math-problem position-relative" style="max-width: 150px">
                    <!-- Carrying Over Indicator -->
                    <div class="position-absolute start-0" style="top: -20px">
                      <small class="text-success fw-bold">1</small>
                    </div>
                    
                    <!-- Number Alignment -->
                    <div class="d-flex flex-column gap-2">
                      <!-- First Number -->
                      <div class="d-flex justify-content-end gap-1">
                        <div class="text-end" style="width: 30px">2</div>
                        <div class="text-end" style="width: 30px">8</div>
                      </div>
                      
                      <!-- Second Number with Plus Sign -->
                      <div class="d-flex justify-content-end gap-1 border-bottom pb-2">
                        <div class="text-end" style="width: 30px">+1</div>
                        <div class="text-end" style="width: 30px">5</div>
                      </div>
                      
                      <!-- Result -->
                      <div class="d-flex justify-content-end gap-1">
                        <div class="text-end" style="width: 30px">4</div>
                        <div class="text-end" style="width: 30px">3</div>
                      </div>
                    </div>
                  </div>
          
                  <!-- Explanation -->
                  <div class="mt-4">
                    <p class="fw-bold">Step-by-step explanation:</p>
                    <ol class="list-unstyled">
                      <li class="mb-2">
                        <span class="badge bg-primary me-2">1</span>
                        Add ones place: 8 + 5 = 13 (write 3, carry over 1)
                      </li>
                      <li class="mb-2">
                        <span class="badge bg-primary me-2">2</span>
                        Add tens place: 2 + 1 + <u>carried 1</u> = 4
                      </li>
                      <li>
                        <span class="badge bg-primary me-2">3</span>
                        Final result: 43
                      </li>
                    </ol>
                    <p class="mt-3 text-success">‚úÖ Remember to carry the extra tens!</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
  
        <!-- Grade 4 -->
        <div class="row mb-5">
            <div class="col-lg-12">
              <div class="card shadow">
                <div class="card-header bg-success text-white">
                  <h3></i>Big Numbers</h3>
                </div>
                <div class="card-body">
                  <p>üî¢ Add three-digit numbers:</p>
          
                  <!-- Math Problem Container -->
                  <div class="math-problem position-relative" style="max-width: 220px">
                    <!-- Carry Over Indicators -->
                    <div class="position-absolute start-0" style="top: -20px; left: 90px!important">
                      <small class="text-success fw-bold">1</small>
                    </div>
                    
                    <!-- Number Alignment -->
                    <div class="d-flex flex-column gap-2">
                      <!-- First Number -->
                      <div class="d-flex justify-content-end gap-1">
                        <div class="text-end" style="width: 30px">3</div>
                        <div class="text-end" style="width: 30px">5</div>
                        <div class="text-end" style="width: 30px">6</div>
                      </div>
                      
                      <!-- Second Number with Plus Sign -->
                      <div class="d-flex justify-content-end gap-1 border-bottom pb-2">
                        <div class="text-end" style="width: 30px">+4</div>
                        <div class="text-end" style="width: 30px">2</div>
                        <div class="text-end" style="width: 30px">9</div>
                      </div>
                      
                      <!-- Result -->
                      <div class="d-flex justify-content-end gap-1">
                        <div class="text-end" style="width: 30px">7</div>
                        <div class="text-end" style="width: 30px">8</div>
                        <div class="text-end" style="width: 30px">5</div>
                      </div>
                    </div>
                  </div>
          
                  <!-- Explanation -->
                  <div class="mt-4">
                    <p class="fw-bold">Step-by-step explanation:</p>
                    <ol class="list-unstyled">
                      <li class="mb-2">
                        <span class="badge bg-primary me-2">1</span>
                        Ones place: 6 + 9 = 15 (write 5, carry over 1)
                      </li>
                      <li class="mb-2">
                        <span class="badge bg-primary me-2">2</span>
                        Tens place: 5 + 2 + <u>carried 1</u> = 8
                      </li>
                      <li class="mb-2">
                        <span class="badge bg-primary me-2">3</span>
                        Hundreds place: 3 + 4 = 7
                      </li>
                      <li>
                        <span class="badge bg-primary me-2">4</span>
                        Final result: 785
                      </li>
                    </ol>
                    <div class="alert alert-success mt-3">
                      üöÄ Pro Tip: Add columns from right to left!
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
  
        <!-- Grade 5 -->
        <div class="row">
          <div class="col-lg-12">
            <div class="card shadow">
              <div class="card-header bg-success text-white">
                <h3></i>Real World Problems</h3>
              </div>
              <div class="card-body">
                <p>üõí Shopping Math:</p>
                <blockquote class="blockquote">
                  If a book costs ‚Çπ250 and a pencil costs ‚Çπ15, how much in total?
                  <footer class="blockquote-footer mt-2">‚Çπ250 + ‚Çπ15 = ‚Çπ265</footer>
                </blockquote>
                <div class="alert alert-primary">
                  üéÆ Make it fun: Add scores from video games!
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="real-life-examples py-5 bg-white">
        <div class="container">
          <h2 class="text-center mb-4">üç´ Real-Life Addition Adventures! üõí</h2>
          
          <!-- Grade 1-2 Example -->
          <div class="row mb-4">
            <div class="col-lg-12">
              <div class="p-3 rounded" style="background: #fff3cd;">
                <h4><i class="bi bi-candy me-2"></i> Chocolate Math</h4>
                <p class="fs-5">
                  If you have 2 üç´ and get 3 more üç´ from a friend: 
                  <span class="badge bg-success">2 üç´üç´ + 3 üç´üç´üç´ = 5 üç´üç´üç´üç´üç´</span>
                </p>
                <div class="d-flex gap-2">
                  <div class="p-2 bg-light rounded">üçé+üçéüçéüçé=üçéüçéüçéüçé</div>
                  <div class="p-2 bg-light rounded">üç™üç™üç™+üç™üç™=üç™üç™üç™üç™üç™</div>
                </div>
              </div>
            </div>
          </div>
      
          <!-- Grade 3-4 Example -->
          <div class="row mb-4">
            <div class="col-lg-12">
              <div class="p-3 rounded" style="background: #d1e7dd;">
                <h4><i class="bi bi-icecream me-2"></i> Ice Cream Party</h4>
                <p class="fs-5">
                    5 üç¶  + 7 üç¶  = 
                    <button class="btn btn-sm btn-primary">
                      Show Answer
                    </button>
                    <span class="ms-2 d-none">12 üç¶ total!</span>
                </p>
                
              </div>
            </div>
          </div>
      
          <!-- Grade 5 Example -->
          <div class="row">
            <div class="col-lg-12">
              <div class="p-3 rounded" style="background: #f8d7da;">
                <h4><i class="bi bi-cart me-2"></i> Market Math</h4>
                <p class="fs-5">
                  Shopping List: <br>
                  ü•ï Carrots: ‚Çπ40 + üçÖ Tomatoes: ‚Çπ65 + ü•ö Eggs: ‚Çπ30 = 
                  <span class="badge bg-danger">‚Çπ135</span>
                </p>
                <div class="alert alert-info">
                  <i class="bi bi-lightbulb"></i> Try: Calculate change from ‚Çπ200!
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
  
    <section class="practice-section py-5">
      <div class="container text-center">
        <h3 class="mb-4">üéØ Practice Time! üìö</h3>
        <div class="row">
            <div class="col-md-6 mb-4">
                <div class="p-3 border rounded bg-light">
                  <p>üê∂ + üê∂ + üê∂ = ?</p>
                  <button class="btn btn-primary">Show Answer</button>
                  <div class="answer mt-2 d-none">3 üê∂</div> <!-- Changed to d-none -->
                </div>
              </div>
              <div class="col-md-6 mb-4">
                <div class="p-3 border rounded bg-light">
                  <p>ü•õ(5) + ü•õ(2) = ?</p>
                  <button class="btn btn-primary">Show Answer</button>
                  <div class="answer mt-2 d-none">7 ü•õ</div> <!-- Changed to d-none -->
                </div>
              </div>
        </div>
      </div>
    </section>
    <section class="practice-section py-5">
      <div class="container">
        <div class="card shadow-lg">
          <div class="card-body">
            <h3 class="text-center mb-4">‚ûï Addition Practice Test</h3>
            
            <div class="row g-4">
              <!-- Question Panel -->
              <div class="col-lg-6">
                <div class="question-card h-100">
                  <div class="card h-100">
                    <div class="card-header bg-success text-white">
                      <h5>Question</h5>
                    </div>
                    <div class="card-body d-flex flex-column">
                      <h5 class="question-text mb-4"></h5>
                      <div class="options-container mb-3 flex-grow-1"></div>
                      <div class="feedback alert mb-3" style="display: none;"></div>
                      <div class="explanation alert alert-info" style="display: none;"></div>
                      <div class="mt-auto">
                        <button class="btn btn-primary w-100" id="checkAnswerBtn" disabled>
                          Check Answer
                        </button>
                        <div class="navigation-controls d-flex justify-content-between mt-3">
                          <button class="btn btn-secondary" id="prevBtn" disabled>
                            <i class="bi bi-chevron-left"></i> Previous
                          </button>
                          <button class="btn btn-secondary" id="nextBtn" disabled>
                            Next <i class="bi bi-chevron-right"></i>
                          </button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
    
              <!-- Progress Panel -->
              <div class="col-lg-6">
                <div class="progress-card h-100">
                  <div class="card h-100">
                    <div class="card-header bg-success text-white">
                      <h5>Progress</h5>
                    </div>
                    <div class="card-body">
                      <div class="row row-cols-4 g-2 mb-4" id="questionNavigation"></div>
                      <div class="progress mt-4">
                        <div class="progress-bar bg-success" role="progressbar"></div>
                      </div>
                      <div class="mt-3 text-center">
                        <span class="badge bg-success me-2"><i class="bi bi-check-circle"></i> Answered</span>
                        <span class="badge bg-secondary"><i class="bi bi-circle"></i> Unanswered</span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
    
        <!-- Loading State -->
        <div class="text-center mt-5" id="loading">
          <div class="spinner-border text-primary" role="status">
            <span class="visually-hidden">Loading...</span>
          </div>
          <p class="mt-2">Loading practice questions...</p>
        </div>
    
        <!-- Error State -->
        <div class="alert alert-danger mt-5" id="error" style="display: none;"></div>
      </div>
    </section>
    </main>

  
    <script>
      document.addEventListener('DOMContentLoaded', () => {
        const QUESTIONS_API = 'https://sanghamitra-learnworld.vercel.app/api/arithmeticQuestionsDatabase';
        const SCORES_API = 'https://sanghamitra-learnworld.vercel.app/api/arithmetic-scores';
        const SESSION_API = 'https://sanghamitra-learnworld.vercel.app/api/session-info';
        
        let quizState = {
            questions: [],
            currentQuestionIndex: 0,
            user: { email: null, username: null },
            scores: null,
            selectedAnswer: null
        };
    
        // DOM Elements
        const elements = {
            questionText: document.querySelector('.question-text'),
            optionsContainer: document.querySelector('.options-container'),
            questionNav: document.getElementById('questionNavigation'),
            loading: document.getElementById('loading'),
            error: document.getElementById('error'),
            progressBar: document.querySelector('.progress-bar'),
            checkAnswerBtn: document.getElementById('checkAnswerBtn'),
            prevBtn: document.getElementById('prevBtn'),
            nextBtn: document.getElementById('nextBtn'),
            feedback: document.querySelector('.feedback'),
            explanation: document.querySelector('.explanation')
        };
    
        async function initializeQuiz() {
            try {
                await fetchUserSession();
                await loadQuestions();
                await loadScores();
                mergeAttemptData();
                buildQuestionNavigation();
                showQuestion(quizState.currentQuestionIndex);
                setupEventListeners();
                updateProgressBar();
            } catch (error) {
                showError(error.message);
            } finally {
                elements.loading.style.display = 'none';
            }
        }
    
        async function fetchUserSession() {
            try {
                const response = await fetch(SESSION_API, { credentials: 'include' });
                if (!response.ok) throw new Error('Authentication required');
                const { email, username } = await response.json();
                quizState.user = { email, username };
            } catch (error) {
                showError('Please login to access this content');
                window.location.href = '/login.html';
            }
        }
    
        async function loadQuestions() {
            try {
                const params = new URLSearchParams({ 
                    operationType: 'addition',
                    // Add fields parameter if needed (depends on your API implementation)
                    fields: 'questionText,options,correctOption,explanation,difficultyLevel,arithmeticCategory,coreSkills,commonErrors,foundationalRequirements,gradeLevel'
                });
                
                const response = await fetch(`${QUESTIONS_API}?${params}`);
                const result = await response.json();
                quizState.questions = result.questions.map(q => ({
                    ...q,
                    startTime: Date.now()
                }));
            } catch (error) {
                showError(`Failed to load questions: ${error.message}`);
            }
        }
    
        async function loadScores() {
            try {
                const params = new URLSearchParams({
                    userEmail: quizState.user.email,
                    operationType: 'addition'
                });
                const response = await fetch(`${SCORES_API}?${params}`);
                quizState.scores = await response.json();
            } catch (error) {
                quizState.scores = {
                    questionsAttempted: [],
                    totalQuestions: 0,
                    correctAnswers: 0,
                    timeTaken: 0
                };
            }
        }
    
        function mergeAttemptData() {
            quizState.questions = quizState.questions.map(question => {
                const attempt = quizState.scores?.questionsAttempted?.find(a => 
                    a.questionId?._id.toString() === question._id.toString()
                );
                
                return attempt ? {
                    ...question,
                    attempted: true,
                    userAnswer: attempt.userAnswer,
                    isCorrect: attempt.isCorrect,
                    timeSpent: attempt.timeSpent
                } : { ...question, attempted: false };
            });
        }
    
        function buildQuestionNavigation() {
            elements.questionNav.innerHTML = quizState.questions
                .map((q, index) => `
                    <div class="question-number" data-index="${index}">
                        ${index + 1}
                    </div>`
                ).join('');
        }
    
        function showQuestion(index) {
            resetFeedback();
            const question = quizState.questions[index];
            
            // Record start time for new attempts
            if (!question.attempted) {
                quizState.questions[index].startTime = Date.now();
            }
    
            elements.questionText.textContent = question.questionText;
            elements.optionsContainer.innerHTML = '';
            elements.checkAnswerBtn.disabled = question.attempted;
            quizState.selectedAnswer = null;
    
            Object.entries(question.options).forEach(([key, value]) => {
                const button = document.createElement('button');
                button.className = 'btn btn-outline-primary mb-2 w-100';
                button.innerHTML = `<strong>${key}.</strong> ${value}`;
                
                if (question.attempted) {
                    button.disabled = true;
                    const isCorrect = key === question.correctOption;
                    const isUserAnswer = key === question.userAnswer;
                    
                    if (isCorrect) button.classList.add('btn-success');
                    if (isUserAnswer) {
                        button.classList.add(isCorrect ? 'btn-success' : 'btn-danger');
                    }
                } else {
                    button.addEventListener('click', () => selectAnswer(key, button));
                }
                
                elements.optionsContainer.appendChild(button);
            });
    
            if (question.attempted) {
                showPersistedFeedback(question);
            }
    
            updateNavigationState();
            updateButtonStates();
        }
    
        function showPersistedFeedback(question) {
            elements.feedback.textContent = question.isCorrect ? 'üéâ Correct!' : '‚ùå Incorrect';
            elements.feedback.className = `alert ${question.isCorrect ? 'alert-success' : 'alert-danger'}`;
            elements.feedback.style.display = 'block';
            
            if (!question.isCorrect) {
                elements.explanation.innerHTML = `
                    <strong>Explanation:</strong> ${question.explanation}<br>
                    <strong>Time Spent:</strong> ${Math.round(question.timeSpent/1000)}s
                `;
                elements.explanation.style.display = 'block';
            }
        }
    
        function selectAnswer(answer, button) {
            document.querySelectorAll('.options-container button').forEach(btn => {
                btn.classList.remove('active');
            });
            button.classList.add('active');
            quizState.selectedAnswer = answer;
            elements.checkAnswerBtn.disabled = false;
        }
    
        async function handleCheckAnswer() {
            const question = quizState.questions[quizState.currentQuestionIndex];
            const timeSpent = Date.now() - question.startTime;
            const isCorrect = quizState.selectedAnswer === question.correctOption;

            try {
                const response = await fetch(SCORES_API, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        userEmail: quizState.user.email,
                        username: quizState.user.username,
                        operationType: 'addition',
                        totalQuestions: 1,
                        correctAnswers: isCorrect ? 1 : 0,
                        questionsAttempted: [{
                            questionId: question._id,
                            userAnswer: quizState.selectedAnswer,
                            isCorrect: isCorrect,
                            timeSpent: timeSpent,
                            // Add question metadata
                            difficultyLevel: question.difficultyLevel,
                            coreSkills: question.coreSkills,
                            commonErrors: question.commonErrors,
                            foundationalRequirements: question.foundationalRequirements,
                            arithmeticCategory: question.arithmeticCategory,
                            gradeLevel: question.gradeLevel
                        }],
                        timeTaken: Math.round(timeSpent/1000)
                    })
                });

              if (!response.ok) throw new Error('Save failed');
              
              // Update local state
              const updatedQuestion = {
                  ...question,
                  attempted: true,
                  userAnswer: quizState.selectedAnswer,
                  isCorrect,
                  timeSpent
              };
              quizState.questions[quizState.currentQuestionIndex] = updatedQuestion;
              
              showQuestion(quizState.currentQuestionIndex);
              updateProgressBar();
              
          } catch (error) {
              showError(`Save failed: ${error.message}`);
          }

          // Immediate feedback
          elements.feedback.textContent = isCorrect ? 'üéâ Correct!' : '‚ùå Incorrect';
          elements.feedback.className = `alert ${isCorrect ? 'alert-success' : 'alert-danger'}`;
          elements.feedback.style.display = 'block';

          if (!isCorrect) {
              elements.explanation.innerHTML = `
                  <strong>Explanation:</strong> ${question.explanation}<br>
                  <strong>Time Spent:</strong> ${Math.round(timeSpent/1000)}s
              `;
              elements.explanation.style.display = 'block';
          }
      }
    
        function updateNavigationState() {
            document.querySelectorAll('.question-number').forEach((btn, index) => {
                const question = quizState.questions[index];
                btn.classList.toggle('active', index === quizState.currentQuestionIndex);
                btn.classList.toggle('answered', question.attempted);
                btn.classList.toggle('correct', question.attempted && question.isCorrect);
                btn.classList.toggle('incorrect', question.attempted && !question.isCorrect);
            });
        }
    
        function updateProgressBar() {
            const attemptedCount = quizState.questions.filter(q => q.attempted).length;
            const totalQuestions = quizState.questions.length;
            const progress = (attemptedCount / totalQuestions) * 100;
            elements.progressBar.style.width = `${progress}%`;
            elements.progressBar.textContent = `${Math.round(progress)}% (${attemptedCount}/${totalQuestions})`;
        }
    
        function resetFeedback() {
            elements.feedback.style.display = 'none';
            elements.explanation.style.display = 'none';
        }
    
        function navigate(direction) {
            const newIndex = quizState.currentQuestionIndex + direction;
            if (newIndex >= 0 && newIndex < quizState.questions.length) {
                quizState.currentQuestionIndex = newIndex;
                showQuestion(newIndex);
            }
        }
    
        function updateButtonStates() {
            elements.prevBtn.disabled = quizState.currentQuestionIndex === 0;
            elements.nextBtn.disabled = quizState.currentQuestionIndex === quizState.questions.length - 1;
        }
    
        function setupEventListeners() {
            // Answer check handler
            elements.checkAnswerBtn.addEventListener('click', handleCheckAnswer);
    
            // Navigation buttons
            elements.prevBtn.addEventListener('click', () => navigate(-1));
            elements.nextBtn.addEventListener('click', () => navigate(1));
    
            // Question number clicks
            document.querySelectorAll('.question-number').forEach(btn => {
                btn.addEventListener('click', () => {
                    const index = parseInt(btn.dataset.index);
                    if (!isNaN(index)) {
                        quizState.currentQuestionIndex = index;
                        showQuestion(index);
                    }
                });
            });
        }
    
        function showError(message) {
            elements.error.textContent = message;
            elements.error.style.display = 'block';
            setTimeout(() => elements.error.style.display = 'none', 5000);
        }
    
        initializeQuiz();
    });
    </script>
  <footer id="footer" class="footer position-relative">
    <div class="container footer-top">
      <div class="row gy-4">
        <div class="col-lg-4 col-md-6 footer-about">
          <a href="index.html" class="logo d-flex align-items-center">
            <span class="">Sanghamitra Learning</span>
          </a>
          <div class="footer-contact pt-3">
            <p>GacchiBowli</p>
            <p>Hyderabad, TS 500032</p>
            <p class="mt-3"><strong>Phone:</strong> <span>+91 7020102729</span></p>
            <p><strong>Email:</strong> <span>sanghamitra.learnworlds@gmail.com</span></p>
          </div>
          <div class="social-links d-flex mt-4">
            <a href=""><i class="bi bi-twitter"></i></a>
            <a href=""><i class="bi bi-facebook"></i></a>
            <a href=""><i class="bi bi-instagram"></i></a>
            <a href=""><i class="bi bi-linkedin"></i></a>
          </div>
        </div>

        <div class="col-lg-4 col-md-12 footer-newsletter">
          
        </div>

      </div>
    </div>

    <div class="container copyright text-center mt-4">
      <p>¬© <span>Copyright</span> <strong class="px-1">Sanghamitra Learning</strong> <span>All Rights Reserved</span></p>
      <div class="credits">
        <!-- All the links in the footer should remain intact. -->
        <!-- You can delete the links only if you've purchased the pro version. -->
        <!-- Licensing information: https://bootstrapmade.com/license/ -->
        <!-- Purchase the pro version with working PHP/AJAX contact form: [buy-url] -->
        Designed by <a href="index.html">Sanghamitra</a>
      </div>
    </div>

  </footer>

  <!-- Scroll Top -->
  <a href="#" id="scroll-top" class="scroll-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

  <!-- Preloader -->
  <div id="preloader"></div>

  <!-- Vendor JS Files -->
  <script src="../assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="../assets/vendor/php-email-form/validate.js"></script>
  <script src="../assets/vendor/aos/aos.js"></script>
  <script src="../assets/vendor/glightbox/js/glightbox.min.js"></script>
  <script src="../assets/vendor/purecounter/purecounter_vanilla.js"></script>
  <script src="../assets/vendor/swiper/swiper-bundle.min.js"></script>

  <!-- Main JS File -->
  <script src="../assets/js/main.js"></script>
  <script src="navbar.js"></script>

</body>

</html>
